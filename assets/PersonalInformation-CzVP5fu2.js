import{q as k,s as m,v as E,ab as x,g as y,w as o,o as I,y as e,C as U,bM as w,E as u}from"./index-CRNGmDQm.js";import{E as q,a as B}from"./el-form-item-CF5wexvk.js";import{E as C}from"./el-button-c3AtTpeO.js";import{E as F}from"./el-input-2zQAl3iE.js";import{_ as M}from"./PageContainer-VaIZ6WHJ.js";import"./_baseClone-0eh0mSPQ.js";const N={__name:"PersonalInformation",setup(P){const n=m(null),{user:{username:i,nickname:d,email:p,id:f},getUser:_}=E(),a=m({username:i,nickname:d,email:p,id:f}),c=x({nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称长度必须为2到10位",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),g=async()=>{await n.value.validate(),(await w(a.value)).code===200?u.success("修改成功"):u.error("修改失败"),_()};return(b,l)=>{const s=F,t=B,v=C,V=q;return I(),y(M,{title:"个人信息"},{default:o(()=>[e(V,{ref_key:"formRef",ref:n,model:a.value,rules:c,"label-width":"100px",class:"demo-form"},{default:o(()=>[e(t,{label:"登录名称",prop:"username"},{default:o(()=>[e(s,{modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.username=r),disabled:""},null,8,["modelValue"])]),_:1}),e(t,{label:"用户昵称",prop:"nickname"},{default:o(()=>[e(s,{modelValue:a.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.nickname=r),placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1}),e(t,{label:"用户邮箱",prop:"email"},{default:o(()=>[e(s,{modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.email=r),placeholder:"请输入用户邮箱"},null,8,["modelValue"])]),_:1}),e(t,null,{default:o(()=>[e(v,{type:"primary",onClick:g},{default:o(()=>l[3]||(l[3]=[U("提交修改")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}},A=k(N,[["__scopeId","data-v-47dc3f94"]]);export{A as default};
